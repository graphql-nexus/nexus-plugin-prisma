# Migrating from 0.3.x to 0.4.x

This document helps you migrate from `nexus-prisma@0.3.x` to `nexus-prisma@0.4.x`.

⚠️  **`nexus-prisma@0.4.x` is still in preview and might break at any moment. We advise not to upgrade yet if you're running in production.**

You can find the full documentation of `nexus-prisma@0.4.x`  [here](https://github.com/prisma-labs/nexus-prisma).

**`nexus-prisma@0.4.x` now uses Prisma 2. [Learn more about how to setup Prisma 2 here](https://github.com/prisma/prisma2/blob/master/docs/getting-started.md)**

## `makePrismaSchema`

`nexus-prisma` is now a nexus plugin. It means we no longer use `makePrismaSchema` but Nexus' `makeSchema` function instead.

```diff
- import { makePrismaSchema } from 'nexus-prisma'
+ import { nexusPrismaPlugin } from 'nexus-prisma'
+ import { makeSchema } from 'nexus'
  import * as types from './graphql'

- const schema = makePrismaSchema({
+ const schema = makeSchema({
-   types
+   types: [types, nexusPrismaPlugin({ types })],
  })
```

## `prismaObjectType`

This function no longer exists. Instead, use `objectType` from `nexus`.

**`t.prismaFields(...)` was removed in favor of two new properties: `t.model` & `t.crud`.**

> NOTE: `t.prismaFields(['*'])` has no equivalent anymore. See [#299](https://github.com/prisma-labs/nexus-prisma/issues/299)

**For the Query & Mutation types**

`t.crud` is available only on the `Query` and `Mutation` type. It replaces `t.prismaFields(...)`

```diff
- import { prismaObjectType } from 'nexus-prisma'
+ import { objectType } from 'nexus'

- const Query = prismaObjectType({
+ const Query = objectType({
    name: 'Query',
    definition(t) {
-      t.prismaFields(['user', 'users'])
+      t.crud.user()
+      t.crud.users({ filtering: true, ordering: true })
    }
})
```

**For types that maps to Prisma model**

`t.model` becomes available. It replaces `t.prismaFields(...)`.

> NOTE: You can now have object types that have different names that your prisma models. If that's the case, use `t.model('<PrismaModelName>').someField()`.

```diff
- import { prismaObjectType } from 'nexus-prisma'
+ import { objectType } from 'nexus'

- const User = prismaObjectType({
+ const User = objectType({
    name: 'User',
    definition(t) {
-      t.prismaFields(['id', 'name', 'age'])
+      t.model.id()
+      t.model.name()
+      t.model.age()
    }
})
```


## `prismaInputObjectType`

This function no longer exists and don't have equivalent yet. See [#477](https://github.com/prisma-labs/nexus-prisma/issues/477)



## `prismaExtendType`

This function no longer exists and don't have equivalent yet.



## `t.prismaType`

This property no longer exists and don't have equivalent yet. See [#303](https://github.com/prisma-labs/nexus-prisma/issues/303)

